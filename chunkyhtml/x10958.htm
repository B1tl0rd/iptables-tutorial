<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN""http://www.w3.org/TR/html4/loose.dtd">
<HTML
><HEAD
><TITLE
>Other debugging tools</TITLE
><META
NAME="GENERATOR"
CONTENT="Modular DocBook HTML Stylesheet Version 1.79"><LINK
REL="HOME"
TITLE="Iptables Tutorial 1.2.2"
HREF="book1.htm"><LINK
REL="UP"
TITLE="Debugging your scripts"
HREF="c10762.htm"><LINK
REL="PREVIOUS"
TITLE="Iptables debugging"
HREF="x10910.htm"><LINK
REL="NEXT"
TITLE="What's next?"
HREF="x11022.htm"><LINK
REL="STYLESHEET"
TYPE="text/css"
HREF="table.css"></HEAD
><BODY
CLASS="SECTION"
BGCOLOR="#FFFFFF"
TEXT="#000000"
LINK="#0000FF"
VLINK="#840084"
ALINK="#0000FF"
><DIV
CLASS="NAVHEADER"
><TABLE
SUMMARY="Header navigation table"
WIDTH="100%"
BORDER="0"
CELLPADDING="0"
CELLSPACING="0"
><TR
><TH
COLSPAN="3"
ALIGN="center"
>Iptables Tutorial 1.2.2</TH
></TR
><TR
><TD
WIDTH="10%"
ALIGN="left"
VALIGN="bottom"
><A
HREF="x10910.htm"
ACCESSKEY="P"
>Prev</A
></TD
><TD
WIDTH="80%"
ALIGN="center"
VALIGN="bottom"
>Chapter 12. Debugging your scripts</TD
><TD
WIDTH="10%"
ALIGN="right"
VALIGN="bottom"
><A
HREF="x11022.htm"
ACCESSKEY="N"
>Next</A
></TD
></TR
></TABLE
><HR
ALIGN="LEFT"
WIDTH="100%"></DIV
><DIV
CLASS="SECTION"
><H1
CLASS="SECTION"
><A
NAME="OTHERDEBUGGINGTOOLS"
>Other debugging tools</A
></H1
><P
>There are of course other tools that may be extremely useful when debugging
your firewall scripts. This section will briefly touch the most common tools
used to find out fast how your firewall looks from all sides of it (inside,
outside, etc). The tools I have chosen here are the nmap and nessus tools. 
      </P
><DIV
CLASS="SECTION"
><H2
CLASS="SECTION"
><A
NAME="DEBUGGING.NMAP"
>Nmap</A
></H2
><P
>Nmap is an excellent tool for looking at the pure firewall
perspective, and to find out which ports are open and more low level
information. It has support for OS fingerprinting, several different port
scanning methods, IPv6 and IPv4 support
and network scanning. 
        </P
><P
>The basic form of scanning is done with a very simple commandline syntax.
Don't forget to specify which ports to scan through with the
-p option, for example -p 1-1024. As an
example, take a look below.
        </P
><PRE
CLASS="SCREEN"
>blueflux@work3:~$ nmap -p 1-1024 192.168.0.1

Starting nmap 3.50 ( http://www.insecure.org/nmap/ ) at 2004-03-18 17:19 CET
Interesting ports on firewall (192.168.0.1):
(The 1021 ports scanned but not shown below are in state: closed)
PORT    STATE SERVICE
22/tcp  open  ssh
25/tcp  open  smtp
587/tcp open  submission

Nmap run completed -- 1 IP address (1 host up) scanned in 3.877 seconds
        </PRE
><P
>It is also able to automatically guess the operating system of the scanned
host by doing OS fingerprinting. Fingerprinting
requires root privileges though, but it may also be very interesting to use to
find out what most people will think of the host. Using OS
fingerprinting may look something like the example listing
below.
        </P
><PRE
CLASS="SCREEN"
>work3:/home/blueflux# nmap -O -p 1-1024 192.168.0.1

Starting nmap 3.50 ( http://www.insecure.org/nmap/ ) at 2004-03-18 17:38 CET
Interesting ports on firewall (192.168.0.1):
(The 1021 ports scanned but not shown below are in state: closed)
PORT    STATE SERVICE
22/tcp  open  ssh
25/tcp  open  smtp
587/tcp open  submission
Device type: general purpose
Running: Linux 2.4.X|2.5.X
OS details: Linux Kernel 2.4.0 - 2.5.20
Uptime 6.201 days (since Fri Mar 12 12:49:18 2004)

Nmap run completed -- 1 IP address (1 host up) scanned in 14.303 seconds
        </PRE
><P
>OS fingerprinting isn't perfect, as you can see, but it will help narrow it 
down, both for you, and for the attacker. Hence, it is interesting for you to 
know as well. The best thing to do, is to give as little material as possible 
for the attacker to get a proper fingerprint on, and with this information you 
will know fairly well what the attacker knows about your OS as well.
        </P
><P
>Nmap also comes with a graphical user interface that can be used, called the
nmapfe (Nmap Front
End). It is an excellent frontend of the nmap program, and if
you know that you will need a little bit more complicated searches, you may
wish to use it. For an example screenshot, take a look below.
        </P
><P
>          <DIV
CLASS="MEDIAOBJECT"
><P
><IMG
SRC="images/nmapfe.jpg"></P
></DIV
>
        </P
><P
>Of course, the nmap tool has more usages than this, which you can find out more 
about on the nmap homepage. For more information, take a look at the <A
HREF="a13413.htm#NMAP"
>Nmap</A
> resources.
        </P
><P
>As you may understand, this is an excellent tool to test your host with, and to 
find out which ports are actually open and which are not. For example, after 
finishing your setup, use nmap to see if you have actually succeeded in doing 
what you wanted to do. Do you get the correct responses from the correct ports, 
and so on.
        </P
></DIV
><DIV
CLASS="SECTION"
><H2
CLASS="SECTION"
><A
NAME="DEBUGGING.NESSUS"
>Nessus</A
></H2
><P
>While nmap is more of a low level scanner, showing open
ports etcetera, the nessus program is an actual security
scanner. Nmap tries to connect to different ports, and to
find out at most, what kind of version the different servers are running.
Nessus takes this a step further, by finding all open
ports, finding out what is running on that specific port, what program and
which version is running, and then testing for different security threats to
that program, and finally creating a complete report of all the security
threats that are available.
        </P
><P
>As you can understand, this is an extremely useful tool to find out more about
your host. The program is built up in a server client way, so it should be
fairly easy to find out more about your firewall from the outside by using an
external nessus daemon, or internal for that matter.
The client is a graphical user interface where you
login to the nessus daemon, set your settings, and
specify which host you would like to scan for vulnerabilities. The generated
report may look something like in the example below.
        </P
><P
>          <DIV
CLASS="MEDIAOBJECT"
><P
><IMG
SRC="images/nessus-report.jpg"></P
></DIV
>
        </P
><DIV
CLASS="CAUTION"
><P
></P
><TABLE
CLASS="CAUTION"
WIDTH="100%"
BORDER="0"
><TR
><TD
WIDTH="25"
ALIGN="CENTER"
VALIGN="TOP"
><IMG
SRC="images/caution.gif"
HSPACE="5"
ALT="Caution"></TD
><TD
ALIGN="LEFT"
VALIGN="TOP"
><P
>Nessus should be used with some caution however, since it
can crash a machine or a service that it is specified to attack. Those attacks
that risk crashing a machine are per default turned off luckily.
          </P
></TD
></TR
></TABLE
></DIV
></DIV
></DIV
><DIV
CLASS="NAVFOOTER"
><HR
ALIGN="LEFT"
WIDTH="100%"><TABLE
SUMMARY="Footer navigation table"
WIDTH="100%"
BORDER="0"
CELLPADDING="0"
CELLSPACING="0"
><TR
><TD
WIDTH="33%"
ALIGN="left"
VALIGN="top"
><A
HREF="x10910.htm"
ACCESSKEY="P"
>Prev</A
></TD
><TD
WIDTH="34%"
ALIGN="center"
VALIGN="top"
><A
HREF="book1.htm"
ACCESSKEY="H"
>Home</A
></TD
><TD
WIDTH="33%"
ALIGN="right"
VALIGN="top"
><A
HREF="x11022.htm"
ACCESSKEY="N"
>Next</A
></TD
></TR
><TR
><TD
WIDTH="33%"
ALIGN="left"
VALIGN="top"
>Iptables debugging</TD
><TD
WIDTH="34%"
ALIGN="center"
VALIGN="top"
><A
HREF="c10762.htm"
ACCESSKEY="U"
>Up</A
></TD
><TD
WIDTH="33%"
ALIGN="right"
VALIGN="top"
>What's next?</TD
></TR
></TABLE
></DIV
></BODY
></HTML
>
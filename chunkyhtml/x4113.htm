<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN""http://www.w3.org/TR/html4/loose.dtd">
<HTML
><HEAD
><TITLE
>Nat table</TITLE
><META
NAME="GENERATOR"
CONTENT="Modular DocBook HTML Stylesheet Version 1.79"><LINK
REL="HOME"
TITLE="Iptables Tutorial 1.2.2"
HREF="book1.htm"><LINK
REL="UP"
TITLE="Traversing of tables and chains"
HREF="c3742.htm"><LINK
REL="PREVIOUS"
TITLE="Mangle table"
HREF="x4058.htm"><LINK
REL="NEXT"
TITLE="Raw table"
HREF="x4156.htm"><LINK
REL="STYLESHEET"
TYPE="text/css"
HREF="table.css"></HEAD
><BODY
CLASS="SECTION"
BGCOLOR="#FFFFFF"
TEXT="#000000"
LINK="#0000FF"
VLINK="#840084"
ALINK="#0000FF"
><DIV
CLASS="NAVHEADER"
><TABLE
SUMMARY="Header navigation table"
WIDTH="100%"
BORDER="0"
CELLPADDING="0"
CELLSPACING="0"
><TR
><TH
COLSPAN="3"
ALIGN="center"
>Iptables Tutorial 1.2.2</TH
></TR
><TR
><TD
WIDTH="10%"
ALIGN="left"
VALIGN="bottom"
><A
HREF="x4058.htm"
ACCESSKEY="P"
>Prev</A
></TD
><TD
WIDTH="80%"
ALIGN="center"
VALIGN="bottom"
>Chapter 6. Traversing of tables and chains</TD
><TD
WIDTH="10%"
ALIGN="right"
VALIGN="bottom"
><A
HREF="x4156.htm"
ACCESSKEY="N"
>Next</A
></TD
></TR
></TABLE
><HR
ALIGN="LEFT"
WIDTH="100%"></DIV
><DIV
CLASS="SECTION"
><H1
CLASS="SECTION"
><A
NAME="NATTABLE"
>Nat table</A
></H1
><P
>This table should only be used for NAT
(Network Address Translation) on different packets. In other words, it should
only be used to translate the packet's source field or destination field. 
Note that,
as we have said before, only the first packet in a stream will hit this table.
After this, the rest of the packets will automatically have the same
action taken on them as the first packet. The actual targets that do
these kind of things are:
   </P
><P
></P
><UL
><LI
STYLE="list-style-type: opencircle"
><P
>DNAT</P
></LI
><LI
STYLE="list-style-type: opencircle"
><P
>SNAT</P
></LI
><LI
STYLE="list-style-type: opencircle"
><P
>MASQUERADE</P
></LI
><LI
STYLE="list-style-type: opencircle"
><P
>REDIRECT</P
></LI
></UL
><P
>The DNAT target is mainly used in cases where you have a public IP and
want to redirect accesses to the firewall to some other host (on a
DMZ for example). In other words, we change the
destination address of the packet and reroute it to the host.
   </P
><P
>SNAT  is mainly used for changing the source address of packets. For
the most part you'll hide your local networks or DMZ,
etc. A very good example would be that of a firewall of which we know outside
IP address, but need to substitute our local network's IP numbers with that of
our firewall. With this target the firewall will automatically
SNAT and De-SNAT the packets, hence
making it possible to make connections from the LAN
to the Internet. If your network uses 192.168.0.0/netmask for example, the
packets would never get back from the Internet, because IANA has regulated
these networks (among others) as private and only for use in isolated
LANs.</P
><P
>The MASQUERADE  target is used in exactly the same way as
SNAT, but the MASQUERADE target takes a
little bit more overhead to compute. The reason for this, is that each time
that the MASQUERADE target gets hit by a packet, it
automatically checks for the IP address to use, instead of doing as the
SNAT target does - just using the single configured IP
address. The MASQUERADE target makes it possible to work
properly with Dynamic DHCP IP addresses that your ISP
might provide for your PPP,
PPPoE or SLIP connections to
the Internet.
   </P
></DIV
><DIV
CLASS="NAVFOOTER"
><HR
ALIGN="LEFT"
WIDTH="100%"><TABLE
SUMMARY="Footer navigation table"
WIDTH="100%"
BORDER="0"
CELLPADDING="0"
CELLSPACING="0"
><TR
><TD
WIDTH="33%"
ALIGN="left"
VALIGN="top"
><A
HREF="x4058.htm"
ACCESSKEY="P"
>Prev</A
></TD
><TD
WIDTH="34%"
ALIGN="center"
VALIGN="top"
><A
HREF="book1.htm"
ACCESSKEY="H"
>Home</A
></TD
><TD
WIDTH="33%"
ALIGN="right"
VALIGN="top"
><A
HREF="x4156.htm"
ACCESSKEY="N"
>Next</A
></TD
></TR
><TR
><TD
WIDTH="33%"
ALIGN="left"
VALIGN="top"
>Mangle table</TD
><TD
WIDTH="34%"
ALIGN="center"
VALIGN="top"
><A
HREF="c3742.htm"
ACCESSKEY="U"
>Up</A
></TD
><TD
WIDTH="33%"
ALIGN="right"
VALIGN="top"
>Raw table</TD
></TR
></TABLE
></DIV
></BODY
></HTML
>